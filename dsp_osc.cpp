#include "dsp_osc.h"

// // 24kHz sample rate, 19 bit phase
// #define PHASE_BITS 19
// const uint16_t midi_note_phase_inc[128] = {
//     179,    189,    200,    212,    225,    238,    253,    268,    284,    300,    318,    337,
//     357,    378,    401,    425,    450,    477,    505,    535,    567,    601,    636,    674,
//     714,    757,    802,    850,    900,    954,    1010,   1070,   1134,   1201,   1273,   1349,
//     1429,   1514,   1604,   1699,   1800,   1907,   2021,   2141,   2268,   2403,   2546,   2697,
//     2858,   3028,   3208,   3398,   3600,   3815,   4041,   4282,   4536,   4806,   5092,   5395,
//     5715,   6055,   6415,   6797,   7201,   7629,   8083,   8563,   9072,   9612,   10184,  10789,
//     11431,  12110,  12830,  13593,  14402,  15258,  16165,  17127,  18145,  19224,  20367,  21578,
//     22861,  24221,  25661,  27187,  28803,  30516,  32331,  34253,  36290,  38448,  40734,  43156,
//     45722,  48441,  51322,  54373,  57607,  61032,  64661,  68506,  72580,  76896,  81468,  86312,
//     91445,  96882,  102643, 108747, 115213, 122064, 129322, 137012, 145160, 153791, 162936, 172625,
//     182890, 193765, 205287, 217494, 230426, 244128, 258645, 274025};

// 24kHz sample rate, 22 bit phase
#define PHASE_BITS 22
const int32_t midi_note_phase_inc[128] = {
    1429,    1514,    1604,    1699,    1800,    1907,    2021,    2141,    2268,    2403,
    2546,    2697,    2858,    3028,    3208,    3398,    3600,    3815,    4041,    4282,
    4536,    4806,    5092,    5395,    5715,    6055,    6415,    6797,    7201,    7629,
    8083,    8563,    9072,    9612,    10184,   10789,   11431,   12110,   12830,   13593,
    14402,   15258,   16165,   17127,   18145,   19224,   20367,   21578,   22861,   24221,
    25661,   27187,   28803,   30516,   32331,   34253,   36290,   38448,   40734,   43156,
    45722,   48441,   51322,   54373,   57607,   61032,   64661,   68506,   72580,   76896,
    81468,   86312,   91445,   96882,   102643,  108747,  115213,  122064,  129322,  137012,
    145160,  153791,  162936,  172625,  182890,  193765,  205287,  217494,  230426,  244128,
    258645,  274025,  290319,  307582,  325872,  345249,  365779,  387529,  410573,  434987,
    460853,  488256,  517290,  548049,  580638,  615165,  651744,  690499,  731558,  775059,
    821146,  869974,  921705,  976513,  1034579, 1096099, 1161276, 1230329, 1303488, 1380998,
    1463116, 1550118, 1642292, 1739948, 1843411, 1953026, 2069159, 2192197};

// Q22
const int32_t midi_note_freq_inv[128] = {
    513015, 484221, 457044, 431392, 407180, 384327, 362756, 342396, 323179, 305040, 287920, 271760,
    256507, 242111, 228522, 215696, 203590, 192163, 181378, 171198, 161589, 152520, 143960, 135880,
    128254, 121055, 114261, 107848, 101795, 96082,  90689,  85599,  80795,  76260,  71980,  67940,
    64127,  60528,  57131,  53924,  50897,  48041,  45345,  42800,  40397,  38130,  35990,  33970,
    32063,  30264,  28565,  26962,  25449,  24020,  22672,  21400,  20199,  19065,  17995,  16985,
    16032,  15132,  14283,  13481,  12724,  12010,  11336,  10700,  10099,  9533,   8997,   8493,
    8016,   7566,   7141,   6741,   6362,   6005,   5668,   5350,   5050,   4766,   4499,   4246,
    4008,   3783,   3571,   3370,   3181,   3003,   2834,   2675,   2525,   2383,   2249,   2123,
    2004,   1891,   1785,   1685,   1591,   1501,   1417,   1337,   1262,   1192,   1125,   1062,
    1002,   946,    893,    843,    795,    751,    709,    669,    631,    596,    562,    531,
    501,    473,    446,    421,    398,    375,    354,    334};